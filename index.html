<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <title>Wiki API</title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel="stylesheet" href="https:/maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.1.0/octicons.min.css">

  </head>
  <body>

  <div class="all container-fluid text-center">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <!-- Random -->
        <div class="row cidade">
          <h4 class="random"><a href="https://pt.wikipedia.org/wiki/Special:Random">Rndm</a></h4>
          <br>
          <!-- Busca -->
          <input type="text" name="search" class="search" placeholder="Search"></select>
          <!-- <br> -->
          <button class="btn btn-default vai">Vai!</button>
        </div>
      </div>
    </div>

      <div class="row results">
        <div class="col-md-6 col-md-offset-3">
          <ul>
            <li class="result">
              <h4 class="title float-left">Orlando, Florida</h4>
              </br>
              <p class="extract">Orlando (\u0254\u02d0r\u02c8l\u00e6ndo\u028a) is a city in the U.S. state of Florida, and the county seat of Orange County.</p>
            </li>
            <li class="result">
              <h4 class="title float-left">Orlando, Florida</h4>
              </br>
              <p class="extract">Orlando (/\u0254\u02d0r\u02c8l\u00e6ndo\u028a/) is a city in the U.S. state of Florida, and the county seat of Orange County.</p>
            </li>
            <li class="result">
              <h4 class="title float-left">Orlando, Florida</h4>
              </br>
              <p class="extract">Orlando (/\u0254\u02d0r\u02c8l\u00e6ndo\u028a/) is a city in the U.S. state of Florida, and the county seat of Orange County.</p>
            </li>
        </ul>
      </div>
    </div>

    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/bootstrap/3.3.5/js/bootstrap.min.js"></script>

  <script>
// https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch=%27orlando%27
// https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch=%27orlando%27
  $(document).ready();
  $(".vai").on("click", function(){
    var search = $(".search").val();
    $.getJSON("https://en.wikipedia.org/w/api.php?format=json&callback&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch=" + search + "&callback=?", function(data){
      for(var key in data.query.pages){
        if(data.query.pages.hasOwnProperty(key)){
          console.log(key + "->" +data.query.pages[key]["title"]);
        }
      }

    },"jsonp");

  });
  </script>
</html>
